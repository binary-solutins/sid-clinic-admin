<div class="card page-content p-3 md:p-4">
    <div
        class="bg-bluegray-200 p-3 flex align-items-center justify-content-between border-round-xl"
    >
        <div class="text-gray-900 text-xl flex align-items-center gap-2">
            <i class="pi pi-backward cursor-pointer" (click)="goBack()"></i>
            <p class="font-semibold">{{ labelConstants.BlogDetails }}</p>
        </div>
        <button
            pButton
            class="p-button-secondary rounded-2"
            (click)="editBlog(blog)"
        >
            <i class="pi pi-pencil mr-2"></i>
            {{ commonConstants.Edit }}
        </button>
    </div>

    <!-- Image and Basic Info Row -->
    <div class="grid mt-2">
        <!-- Image Column - Full width on mobile, 3 columns on desktop -->
        <div class="col-12 md:col-3 mb-3 md:mb-0">
            <img
                [src]="imgSrc"
                (error)="handleImageError($event)"
                class="w-full h-auto border-round"
                style="max-height: 200px; object-fit: cover"
            />
        </div>

        <!-- Title & Category Column -->
        <div class="col-12 md:col-9">
            <div class="mb-4">
                <p-fieldset
                    [legend]="labelConstants.Title"
                    styleClass="floating-legend-fieldset h-full"
                >
                    <p class="m-0 text-lg">{{ blog.title }}</p>
                </p-fieldset>
            </div>

            <div class="">
                <p-fieldset
                    [legend]="labelConstants.Category"
                    styleClass="floating-legend-fieldset h-full"
                >
                    <p class="m-0 text-lg">{{ blog.category }}</p>
                </p-fieldset>
            </div>
        </div>
    </div>

    <!-- Content Section -->
    <div class="mt-2">
        <p-fieldset
            [legend]="labelConstants.Content"
            styleClass="floating-legend-fieldset"
        >
            <div class="prose max-w-full" [innerHtml]="blog.content"></div>
        </p-fieldset>
    </div>

    <!-- Tags Section -->
    <div class="mt-4">
        <p-fieldset
            [legend]="labelConstants.Tags"
            styleClass="floating-legend-fieldset"
        >
            <div class="flex flex-wrap gap-2">
                <p-chip
                    *ngFor="let tag of blog.tags"
                    [label]="tag"
                    class="mr-2"
                ></p-chip>
            </div>
        </p-fieldset>
    </div>

    <!-- Featured -->
    <div
        class="flex flex-column md:flex-row align-items-start md:align-items-center gap-3 mt-2 p-3 surface-card border-round"
    >
        <span class="text-lg font-medium">{{ labelConstants.Featured }}</span>
        <div class="flex gap-1">
            <p-tag
                [value]="'Yes'"
                [severity]="blog.is_featured ? 'primary' : 'secondary'"
            ></p-tag>
            <p-tag
                [value]="'No'"
                [severity]="!blog.is_featured ? 'primary' : 'secondary'"
                styleClass="bg-secondary"
            ></p-tag>
        </div>
    </div>

    <!-- Active -->
    <div
        class="flex flex-column md:flex-row align-items-start md:align-items-center gap-3 mt-2 p-3 surface-card border-round"
    >
        <span class="text-lg font-medium">{{ commonConstants.Active }}</span>
        <div class="flex gap-1">
            <p-tag
                [value]="'Active'"
                [severity]="blog.is_active ? 'primary' : 'secondary'"
            ></p-tag>
            <p-tag
                [value]="'Suspend'"
                [severity]="!blog.is_active ? 'primary' : 'secondary'"
                styleClass="bg-secondary"
            ></p-tag>
        </div>
    </div>
</div>
